# ИДЗ №2
## Амирханов Никита БПИ219
## Вариант 1
Задача о парикмахере. В тихом городке есть парикмахерская.
Салон парикмахерской мал, работать в нем нем может только один
парикмахер, обслуживающий одного посетителя. Есть несколь-
ко кресел для ожидания в очереди. Парикмахер всю жизнь обслу-
живает посетителей. Когда в салоне никого нет, он спит в кресле.
Когда посетитель приходит и видит спящего парикмахера, он будет
его, садится в кресло, «засыпая» на тот момент, пока парикмахер
обслуживает его. Если посетитель приходит, а парикмахер занят,
то он встает в очередь и «засыпает». После стрижки парикмахер
сам провожает посетителя. Если есть ожидающие посетители, то
парикмахер будит одного из них и ждет пока тот сядет в кресло па-
рикмахера и начинает стрижку. Если никого нет, он снова садится
в свое кресло и засыпает до прихода посетителя. Создать прило-
жение, моделирующее рабочий день парикмахерской.

### Запуск кода
В задании на оценку 4:
```sh
gcc main.c -o main
./main <number of clients>
```
В заданиях 5-6:
```sh
gcc main.c -o main -lpthread -lrt
./main <number of clients>
```
В заданиях 7 и 9:
```sh
gcc cutter.c -o cutter
gcc client.c -o client
```
Затем в разных терминалах сначала запутсить `./cutter` затем сколько необходимо экземляров `./client`
В заданиях 8 и 10:
```sh
gcc cutter.c -o cutter -lpthread -lrt
gcc client.c -o client -lpthread -lrt
```
Затем в разных терминалах сначала запутсить `./cutter` затем сколько необходимо экземляров `./client`

### Тестирование
Все тесты, а так же резульатты запуска лежат в папке `/tests`
Тест 1: Тест строки меньше 128 байт
Тест 2: Тест строки размером 500 байт
Тест 3: Тест строки без согласных
Тест 4: Тест строки с заглавными согласными
Тест 5: Очень большой текст

### 4
Имеется приложение, которое с помощию функции `fork()` создает дочерние процессы. Каждый клиент идет к парикмахеру и закрыввает за собой семафор. Когда парикмахер  закончит с ним, он онкрывает семафор для следующих клиентов. В разделяемой памяти хранится `id` клиента - `getpid()`.
### 5
Имеется приложение, которое с помощию функции `fork()` создает дочерние процессы. Каждый клиент идет к парикмахеру и закрыввает за собой семафор. Когда парикмахер  закончит с ним, он онкрывает семафор для следующих клиентов. В разделяемой памяти хранится `id` клиента - `getpid()`.
### 6
Имеется приложение, которое с помощию функции `fork()` создает дочерние процессы. Каждый клиент идет к парикмахеру и закрыввает за собой семафор. Когда парикмахер  закончит с ним, он онкрывает семафор для следующих клиентов. В разделяемой памяти хранится `id` клиента - `getpid()`.
### 7
Имеется приложение, которое с помощию функции `fork()` создает дочерние процессы. Первый процесс через первый именнованный канал `char* pipe_read_calc = "prc.fifo"` отправляет данные второму. Второй их обрабатывает и через второй именнованный канал `char* pipe_calc_write = "pcw.fifo` отправляет назад первому процессу, который выводит результат в файл.  Синхронизация производится за счет блокировки процесса методом `read()`.
### 8
Есть две программы. Подрядок запуска не важен. Принцип работы такой же как и в задании на 7 баллов.
### 9
Так же имеется две программы, но размер буффера ограничен 200 байтами. Чтение происходит порциями, которые сразу отправляются в второй процесс, где обрабатываются и возвращаюся в первый, после чего сразу пишутся в выходной файл.
### 10
Работа схожа с заданием на 9 баллов, но вместо именнованных каналов используется очередь сообщений. Первый процесс читает из файла и передает данные в первую очередь, второй процесс читает из нее пока в ней есть сообщения, после чего отправляет обработанные результаты через вторую очередь в первый процесс. Первый процесс так же читает из очереди пока в ней есть сообщения и пишет все в файл.